<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>2026新年快樂 - Dr. Richard Niu</title>
    <meta name="description" content="Dr. Richard Niu 祝您及家人2026年新年快樂！">
    <meta property="og:title" content="2026新年快樂 - Dr. Richard Niu">
    <meta property="og:description" content="Dr. Richard Niu 祝您及家人2026年新年快樂！">
    <meta property="og:image" content="https://raw.githubusercontent.com/username/repo/main/thumbnail.jpg">
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+TC:wght@400;700&display=swap');

        :root {
            --deco-green: #003322;
            --deco-gold: #D4AF37;
            --deco-black: #050505;
            --deco-light-gold: #F4DFAD;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--deco-black);
            font-family: 'Cinzel', 'Noto Serif TC', serif;
        }

        /* --- 复杂的 Art Deco 边框设计 --- */
        .deco-frame-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 50;
            pointer-events: none;
            padding: 15px; /* 移动端边距 */
        }
        @media (min-width: 768px) {
            .deco-frame-container { padding: 30px; }
        }

        .deco-outer-border {
            width: 100%;
            height: 100%;
            border: 2px solid var(--deco-gold);
            position: relative;
            /* 剪切角产生阶梯效果 */
            clip-path: polygon(
                0 20px, 20px 20px, 20px 0, 
                calc(100% - 20px) 0, calc(100% - 20px) 20px, 100% 20px,
                100% calc(100% - 20px), calc(100% - 20px) calc(100% - 20px), calc(100% - 20px) 100%,
                20px 100%, 20px calc(100% - 20px), 0 calc(100% - 20px)
            );
        }

        /* 内层装饰线 */
        .deco-inner-border {
            position: absolute;
            top: 5px; left: 5px; right: 5px; bottom: 5px;
            border: 1px solid var(--deco-gold);
            opacity: 0.6;
            clip-path: polygon(
                0 20px, 20px 20px, 20px 0, 
                calc(100% - 20px) 0, calc(100% - 20px) 20px, 100% 20px,
                100% calc(100% - 20px), calc(100% - 20px) calc(100% - 20px), calc(100% - 20px) 100%,
                20px 100%, 20px calc(100% - 20px), 0 calc(100% - 20px)
            );
        }

        /* 角落扇形装饰 */
        .corner-fan {
            position: absolute;
            width: 40px; height: 40px;
            border: 1px solid var(--deco-gold);
            z-index: 52;
        }
        .fan-tl { top: 20px; left: 20px; border-right: none; border-bottom: none; }
        .fan-tr { top: 20px; right: 20px; border-left: none; border-bottom: none; }
        .fan-bl { bottom: 20px; left: 20px; border-right: none; border-top: none; }
        .fan-br { bottom: 20px; right: 20px; border-left: none; border-top: none; }


        /* 背景图设置 */
        #bg-image {
            position: fixed; 
            top: 0; left: 0; 
            width: 100vw; height: 100vh;
            object-fit: cover; 
            object-position: center;
            transition: opacity 2s ease-in-out;
            opacity: 0;
            z-index: 1;
        }

        /* --- Art Deco 放射背景线 (Sunburst) --- */
        .art-deco-sunburst {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2; /* 在背景图之上 */
            opacity: 0.15; /* 淡淡的金色线条 */
            background: repeating-conic-gradient(
                from 0deg at 50% 120%, /* 放射源在底部中心下方 */
                transparent 0deg,
                transparent 4deg,
                var(--deco-gold) 4.2deg,
                transparent 4.4deg,
                transparent 8deg
            );
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        /* --- 绿色滤镜层 (Green Tint) --- */
        .green-overlay-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 3;
            background: radial-gradient(circle at center, rgba(0, 51, 34, 0.4) 0%, rgba(0, 30, 20, 0.8) 80%, #000 100%);
            mix-blend-mode: multiply;
            pointer-events: none;
        }

        #fireworks-canvas {
            position: absolute;
            top: 0; left: 0; 
            z-index: 10;
        }

        .content-overlay {
            position: relative;
            z-index: 20;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: var(--deco-light-gold);
            padding: 20px;
            /* 额外的暗色遮罩，确保文字清晰 */
            background: radial-gradient(circle, rgba(0,51,34,0.2) 0%, rgba(0,0,0,0.4) 100%);
        }

        .greeting-text {
            opacity: 0;
            transform: translateY(15px);
            transition: all 1.2s ease-out 0.1s;
        }

        .visible {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        .gold-gradient-text {
            background: linear-gradient(
                to right, 
                #B8860B 0%, #D4AF37 25%, #F4DFAD 50%, #D4AF37 75%, #B8860B 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 4s linear infinite, textGlow 3s ease-in-out infinite;
            display: inline-block;
        }
        
        .skyline-path {
            stroke-dasharray: 2500;
            stroke-dashoffset: 2500;
            animation: drawLine 5s ease-out forwards 0.2s;
        }
        
        @keyframes drawLine {
            to { stroke-dashoffset: 0; }
        }

        @keyframes shimmer {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        @keyframes textGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 5px rgba(212,175,55,0.3));
                text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            }
            50% { 
                filter: drop-shadow(0 0 20px rgba(212,175,55,0.8));
                text-shadow: 2px 2px 10px rgba(212,175,55,0.4);
            }
        }

        #upload-btn-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        #upload-btn-container:hover { opacity: 1; }
        .art-deco-btn {
            background: rgba(5, 5, 5, 0.8);
            border: 1px solid var(--deco-gold);
            color: var(--deco-gold);
            padding: 8px 16px;
            font-family: 'Cinzel', serif;
            font-size: 12px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s;
        }
        .art-deco-btn:hover {
            background: var(--deco-gold);
            color: var(--deco-black);
        }
    </style>
</head>
<body>

    <!-- 复杂的 Art Deco 边框 -->
    <div class="deco-frame-container">
        <div class="deco-outer-border">
            <div class="deco-inner-border"></div>
        </div>
        <!-- 角落装饰 -->
        <div class="corner-fan fan-tl"></div>
        <div class="corner-fan fan-tr"></div>
        <div class="corner-fan fan-bl"></div>
        <div class="corner-fan fan-br"></div>
    </div>

    <!-- 背景图片 -->
    <img id="bg-image" src="" alt="New Year Background">
    
    <!-- Art Deco 放射线背景 -->
    <div class="art-deco-sunburst"></div>
    
    <!-- 绿色滤镜层 -->
    <div class="green-overlay-layer"></div>
    
    <canvas id="fireworks-canvas"></canvas>

    <div id="upload-btn-container">
        <input type="file" id="bg-upload" accept="image/*" style="display: none;">
        <button class="art-deco-btn" onclick="document.getElementById('bg-upload').click()">
            更换背景 / Change BG
        </button>
    </div>

    <div class="content-overlay">
        <div id="greeting" class="greeting-text w-full max-w-4xl px-4 flex flex-col items-center">
            
            <div class="gold-gradient-text font-bold mb-4 md:mb-6 tracking-widest leading-relaxed text-center">
                <h1 class="text-2xl sm:text-3xl md:text-5xl">
                    Dr. Richard Niu <br class="sm:hidden"> 祝您及家人 <br> 2026年新年快樂！
                </h1>
            </div>
            
            <p class="text-base sm:text-lg md:text-2xl mb-8 tracking-wide font-light">
                Dr. Richard Niu wishes you and your family <br> a Happy New Year 2026!
            </p>

            <!-- Art Deco 风格香港天际线 (真实比例 + 高密度) -->
            <div class="mb-4 w-full max-w-[300px] md:max-w-[700px]">
                <svg viewBox="0 0 600 130" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto drop-shadow-lg">
                    <!-- 
                       香港维港天际线 (镜像翻转 + 高密度填充)
                       调整：大幅增加 IFC (x=150~175) 的高度，从 y=25 提升至 y=5
                    -->
                    <path class="skyline-path" transform="translate(600, 0) scale(-1, 1)" d="M 0 125 L 600 125 M 10 125 L 10 35 L 35 35 L 35 125 M 22 35 L 22 125 M 40 125 L 40 55 L 50 55 L 50 125 M 55 125 L 55 60 L 65 60 L 65 125 M 75 125 L 75 70 L 90 70 L 90 125 M 95 125 L 95 50 L 110 40 L 125 50 L 125 125 M 110 40 L 110 30 M 130 125 L 130 80 L 145 80 L 145 125 M 150 125 L 150 5 L 175 5 L 175 125 M 150 15 L 175 15 M 180 125 L 180 70 L 195 70 L 195 125 M 200 125 L 200 65 L 225 65 L 225 125 M 230 125 L 230 60 L 245 60 L 245 125 M 250 125 L 250 55 L 265 55 L 265 125 M 270 125 L 270 50 L 290 10 L 310 50 L 310 125 M 270 50 L 310 50 M 290 10 L 290 125 M 315 125 L 315 75 L 330 75 L 330 125 M 335 125 L 335 80 L 350 80 L 350 125 M 355 125 L 355 50 L 375 20 L 395 50 L 395 125 M 375 20 L 375 10 M 400 125 L 400 60 L 420 60 L 420 125 M 425 125 L 425 100 Q 450 90 475 100 L 475 125 M 480 125 L 480 50 L 500 40 L 520 50 L 520 125 M 525 125 L 525 70 L 540 70 L 540 125 M 545 125 L 545 60 L 560 60 L 560 125 M 565 125 L 565 75 L 580 75 L 580 125 M 585 125 L 585 80 L 595 80 L 595 125" stroke="#D4AF37" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>

            <div class="mt-2 opacity-90 border-t border-gold-700/30 pt-6 inline-block w-full sm:w-auto text-center">
                <p class="text-xs sm:text-sm md:text-base tracking-[0.3em] uppercase">
                    香港樹仁大學 <br>
                    <span class="text-[10px] sm:text-xs tracking-normal">Hong Kong Shue Yan University</span>
                </p>
            </div>
        </div>
    </div>

    <script>
        const customBackgroundUrl = "./background.png"; 
        const fallbackImageUrl = "https://images.unsplash.com/photo-1510255502932-d128d5064c12?q=80&w=2074&auto=format&fit=crop";
        
        const bgImg = document.getElementById('bg-image');
        const greeting = document.getElementById('greeting');
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');
        const fileInput = document.getElementById('bg-upload');

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    bgImg.src = e.target.result;
                    bgImg.style.opacity = "1";
                    greeting.classList.add('visible');
                };
                reader.readAsDataURL(file);
            }
        });

        function initBackground() {
            greeting.classList.add('visible');

            if (customBackgroundUrl) {
                bgImg.src = customBackgroundUrl;
                bgImg.onload = () => {
                    bgImg.style.opacity = "1";
                    console.log("成功加载本地图片");
                };
                bgImg.onerror = () => { 
                    console.log("本地图片加载失败，切换至演示背景");
                    bgImg.src = fallbackImageUrl;
                    bgImg.onload = () => { bgImg.style.opacity = "1"; }
                };
            }
        }

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(x, y, color) {
                this.x = x; 
                this.y = y; 
                this.color = color;
                const speedScale = window.innerWidth < 768 ? 5 : 8; // 降低初始速度
                this.velocity = { 
                    x: (Math.random() - 0.5) * speedScale, 
                    y: (Math.random() - 0.5) * speedScale 
                };
                this.alpha = 1; 
                this.friction = 0.96; 
                this.gravity = 0.05; // 降低重力 (原 0.12)
            }
            draw() {
                ctx.save(); ctx.globalAlpha = this.alpha; ctx.beginPath();
                ctx.arc(this.x, this.y, window.innerWidth < 768 ? 1 : 1.5, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.shadowBlur = window.innerWidth < 768 ? 5 : 12; ctx.shadowColor = this.color;
                ctx.fill(); ctx.restore();
            }
            update() {
                this.velocity.x *= this.friction; 
                this.velocity.y *= this.friction;
                this.velocity.y += this.gravity; 
                this.x += this.velocity.x; 
                this.y += this.velocity.y;
                this.alpha -= 0.006; // 降低消失速度 (原 0.01)
            }
        }

        let particles = [];
        const goldColors = ['#D4AF37', '#F4DFAD', '#FFD700', '#B8860B'];

        function createFirework(x, y) {
            // 增加粒子数量
            const count = window.innerWidth < 768 ? 80 : 120; // 原 50:80
            const color = goldColors[Math.floor(Math.random() * goldColors.length)];
            for (let i = 0; i < count; i++) { particles.push(new Particle(x, y, color)); }
        }

        function animate() {
            ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => { if (p.alpha > 0) { p.update(); p.draw(); } else { particles.splice(i, 1); } });
            // 增加爆炸频率
            if (Math.random() < 0.08) { // 原 0.03
                createFirework(Math.random() * canvas.width, Math.random() * (canvas.height * 0.6)); 
            }
            requestAnimationFrame(animate);
        }

        window.onload = () => { initBackground(); animate(); };
    </script>
</body>
</html>
